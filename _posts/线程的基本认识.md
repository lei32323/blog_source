---
layout: tags
title: 线程的基本认识
date: 2020-02-16 02:36:36
tags: java,k8s
---

### 并发和并行

并行：多个处理器同时处理多个任务。

并发：一个处理器处理多个任务，同一个时间只能做一件事情。一个人一边看电视，一边先写作业



### 线程的状态

`Thread.State` 类

NEW（创建线程）

RUNNABLE（线程运行）

BLOCKED 线程阻塞

​	等待阻塞 wait 

​	同步阻塞  synchronized

​    其他阻塞  sleep/join

WAITING 线程等待

TIMED_WAITING 线程时间等待

TERMINATED 终止 



#### notify、notifyall

属于唤醒线程，并不是释放锁



### 线程的停止

通过interrupter 进行发送停止线程的指令。等待线程结束，并不会立即执行，类似于自己在死循环中使用判断条件跳出循环



### 线程之间的通信

   共享内存 

   消息传递 wait/notify 



### 原子性

一个操作或者多个操作 要么全部执行并且执行的过程不会被任何因素打断，要么就都不执行

### 可见性

多个线程之间可以都访问到同一个变量的值得改变

### 有序性

即程序执行的顺序按照代码的先后顺序执行。



### JMM模型

#### 内存屏障





### synchronized(锁)

#### 自旋锁

#### 偏向锁

#### 轻量级锁

#### 重量级锁





AQS

Unsafe

CAS

LockSupport







AQS

独占锁 -》 同一时刻只能有一个线程获得锁

共享锁-> 读写锁，同一个时间一个线程可以获得多个所



公平锁-》 不允许插队  。直接进入堵塞队列中

非公平锁-》 允许插队 。 先获取锁，没有获取到锁就进入堵塞队列



CAS -》 乐观锁-》保证原子性 

state 0:无锁  >=1 可重入次数







URL  地点  一定会包含URI

URI 资源

http 加密 ：

对称加密  一个密钥(客户端/服务段)

非对称加密(公钥和私钥)

md5/sha...  摘要算法



